{
  "name": "db.01.mermaid",
  "path": "DB/db.01.mermaid",
  "type": "mermaid",
  "lastBuilt": "2025-09-10T19:36:40.722Z",
  "content": "erDiagram\n  User ||--o{ Membership : \"sitewide → many accounts\"\n  Account ||--o{ Membership : \"role: owner/admin/editor/viewer\"\n  Account ||--o{ Catalog : \"logical bucket for works\"\n  Account ||--o{ Project : \"collections/playlists/releases\"\n  Project ||--o{ ProjectItem : \"links Work/Version/Asset\"\n\n  %% Catalog (works vs versions/recordings)\n  Catalog ||--o{ Work : \"Song (composition)\"\n  Work ||--o{ Version : \"Arrangement / recording / mix\"\n  Version ||--o{ Asset : \"stems/mix/midi/ref\"\n  Version ||--o{ Lyric : \"history\"\n  Version ||--o{ Section : \"structure/chords\"\n  Version ||--o{ TempoMap : \"\"\n\n  %% Splits / Rights\n  Work ||--o{ Split : \"percentages per work\"\n  Party ||--o{ Split : \"User or External (writer/publisher)\"\n  Party }o--|| Account : \"owned or referenced by\"\n\n  %% AI pipeline\n  Account ||--o{ ProviderAccount : \"API creds per provider\"\n  Provider ||--o{ ProviderAccount : \"\"\n  Account ||--o{ AIJob : \"queued/running/succeeded/failed\"\n  AIJob }o--|| Version : \"input context\"\n  AIJob }o--|| Asset : \"inputAsset (optional)\"\n  AIJob ||--o{ JobOutput : \"→ Assets created\"\n  JobOutput }o--|| Asset : \"\"\n\n  %% Billing / limits\n  Account ||--o{ Subscription : \"plan, renewsAt, spendCap\"\n  Subscription ||--o{ MeterReading : \"usage counters\"\n\n  %% Collab + access\n  Account ||--o{ Invite : \"email + role + target scope\"\n  ACL }o--|| User : \"optional per-object override\"\n  ACL }o--|| SecuredObject : \"Work/Version/Project\"\n\n  %% Integrations / Ops\n  Account ||--o{ WebhookEndpoint : \"\"\n  WebhookEndpoint ||--o{ WebhookDelivery : \"status/retries\"\n  Account ||--o{ AuditEvent : \"who/what/when\"\n"
}