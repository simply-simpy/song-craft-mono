{
  "name": "account-user-songs.mermaid",
  "path": "DB/account-user-songs.mermaid",
  "type": "mermaid",
  "lastBuilt": "2025-09-10T19:36:40.721Z",
  "content": "erDiagram\n  USER {\n    uuid id\n    text email\n    text display_name\n    datetime created_at\n    datetime updated_at\n  }\n\n  ORG {\n    uuid id\n    text name\n    text domain_policy\n    datetime created_at\n    datetime updated_at\n  }\n\n  ACCOUNT {\n    uuid id\n    uuid org_id\n    text name\n    text plan\n    boolean is_default\n    datetime created_at\n    datetime updated_at\n  }\n\n  MEMBERSHIP {\n    uuid id\n    uuid user_id\n    uuid account_id\n    text role\n    datetime created_at\n  }\n\n  SONG {\n    uuid id\n    uuid account_id\n    text title\n    text status\n    datetime created_at\n    datetime updated_at\n  }\n\n  SONG_VERSION {\n    uuid id\n    uuid song_id\n    text label\n    boolean is_final\n    text lyrics_md\n    datetime created_at\n  }\n\n  SONG_AUTHOR {\n    uuid id\n    uuid song_id\n    uuid user_id\n    text role\n    numeric split_pct\n    datetime created_at\n  }\n\n  SONG_ACCESS {\n    uuid id\n    uuid song_id\n    uuid account_id\n    text permission\n    datetime created_at\n  }\n\n  LINE_CONTRIBUTION {\n    uuid id\n    uuid song_version_id\n    uuid user_id\n    int line_number\n    text note\n    datetime created_at\n  }\n\n  RECORDING {\n    uuid id\n    uuid song_id\n    uuid user_id\n    text storage_key\n    int duration_seconds\n    text take_label\n    datetime created_at\n  }\n\n  SONG_OWNERSHIP_HISTORY {\n    uuid id\n    uuid song_id\n    uuid from_account_id\n    uuid to_account_id\n    text method\n    datetime effective_at\n  }\n\n  RIGHTS_HOLDER {\n    uuid id\n    uuid song_id\n    text holder_type\n    uuid holder_id\n    text rights_type\n    datetime start_at\n    datetime end_at\n  }\n\n  TAG {\n    uuid id\n    text name\n  }\n\n  SONG_TAG {\n    uuid id\n    uuid song_id\n    uuid tag_id\n  }\n\n  GENRE {\n    uuid id\n    text name\n  }\n\n  SONG_GENRE {\n    uuid id\n    uuid song_id\n    uuid genre_id\n  }\n\n  %% Relationships\n  ORG ||--o{ ACCOUNT : contains\n  ACCOUNT ||--o{ MEMBERSHIP : has_members\n  USER ||--o{ MEMBERSHIP : joins\n  ACCOUNT ||--o{ SONG : owns\n  SONG ||--o{ SONG_VERSION : versions\n  SONG ||--o{ SONG_AUTHOR : has_authors\n  USER ||--o{ SONG_AUTHOR : credited_as\n  SONG ||--o{ SONG_ACCESS : shared_with\n  ACCOUNT ||--o{ SONG_ACCESS : gets_access\n  SONG_VERSION ||--o{ LINE_CONTRIBUTION : has_lines_by\n  USER ||--o{ LINE_CONTRIBUTION : contributes\n  SONG ||--o{ RECORDING : has_recordings\n  USER ||--o{ RECORDING : records\n  SONG ||--o{ SONG_OWNERSHIP_HISTORY : transfer_log\n  ACCOUNT ||--o{ SONG_OWNERSHIP_HISTORY : from_account\n  ACCOUNT ||--o{ SONG_OWNERSHIP_HISTORY : to_account\n  SONG ||--o{ RIGHTS_HOLDER : rights\n  ORG ||--o{ RIGHTS_HOLDER : may_hold\n  ACCOUNT ||--o{ RIGHTS_HOLDER : may_hold\n  SONG ||--o{ SONG_TAG : tagged\n  TAG ||--o{ SONG_TAG : tag_map\n  SONG ||--o{ SONG_GENRE : genre_map\n  GENRE ||--o{ SONG_GENRE : genre_map\n"
}